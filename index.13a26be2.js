var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequireadfa;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},e.parcelRequireadfa=a),a.register("1H4bF",(function(e,n){var t=a("abWUW"),i=a("55Csz");const o=document.getElementById("hero-bg"),r=document.getElementById("hero-content"),d=document.getElementById("hero__wrapper"),s=document.getElementById("hero-movie"),l=document.getElementById("hero-image"),c=document.getElementById("hero-movie-mob"),m=document.getElementById("modal-hero"),u=document.getElementById("modal-hero-close"),p=document.querySelector(".modal-error");function _(e){"Escape"===e.code&&g()}function g(){window.removeEventListener("keydown",_),m.classList.add("hero-is-hidden")}function v(e){try{(0,t.getMovieVideos)(e).then((e=>{const n=e.results.filter((e=>"Trailer"===e.type));if(0===n.length)return;const t=`https://www.youtube.com/embed/${n[0].key}`;document.querySelector(".modal-video").innerHTML=`<iframe src="${t}" title="YouTube video player"\n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share;"\n          allowfullscreen></iframe>`,p.classList.add("hero-is-hidden")}))}catch(e){console.error(e)}}u.addEventListener("click",g),m.addEventListener("click",(function(e){e.currentTarget===e.target&&g()})),document.addEventListener("DOMContentLoaded",(()=>{(0,t.getDayTrendingMovies)().then((e=>{try{const t=e.results;if(0===t.length)return void s.classList.add("visually-hidden");{const a=t[Math.floor(Math.random()*t.length)],{backdrop_path:u,title:p,overview:g,vote_average:h,id:y}=a;o.style.backgroundImage=`linear-gradient(87.8deg, #0e0e0e 15.61%, rgba(14, 14, 14, 0) 60.39%),url('https://image.tmdb.org/t/p/original/${u}')`,l.style.backgroundImage=`url('https://image.tmdb.org/t/p/original/${u}')`,c.innerHTML=`\n        <h1 class="hero__title-movie">${p}</h1>\n        <div class="hero__wrapper-rating">\n        <span class="hero-card__rating">\n      <div class="rating hero-rating">\n        <div class="hero-rating__body">\n          <div class="rating__active"></div>\n          <div class="hero-rating__items">\n            <input\n              type="range"\n              min="0"\n              max="10"\n              class="rating__item"\n              value="${h}"\n              name="hero-rating"\n            />\n          </div>\n        </div>\n      </div>\n    </span>\n    </div>\n        <p class="hero__text-movie">${g}</p>\n        <button class="btn hero__btn-movie" id="modal-hero-open-mob">Watch trailer</button>\n      `,(0,i.starRating)(),s.innerHTML=`\n        <h1 class="hero__title-movie">${p}</h1>\n        <div class="hero__wrapper-rating">\n        <span class="hero-card__rating">\n      <div class="rating hero-rating">\n        <div class="hero-rating__body">\n          <div class="rating__active"></div>\n          <div class="hero-rating__items">\n            <input\n              type="range"\n              min="0"\n              max="10"\n              class="rating__item"\n              value="${h}"\n              name="hero-rating"\n            />\n          </div>\n        </div>\n      </div>\n    </span>\n    </div>\n        <p class="hero__text-movie">${g}</p>\n        <button class="btn hero__btn-movie" id="modal-hero-open">Watch trailer</button>\n      `,(0,i.starRating)();const f=document.getElementById("modal-hero-open"),b=document.getElementById("modal-hero-open-mob");function n(){window.addEventListener("keydown",_),m.classList.remove("hero-is-hidden")}f.addEventListener("click",(()=>{v(y),n()})),b.addEventListener("click",(()=>{v(y),n()})),r.classList.add("visually-hidden"),d.classList.add("visually-hidden")}}catch(w){console.error(w)}}))}))})),a.register("asmXU",(function(e,n){var t=a("abWUW");const i=document.querySelector(".js-film"),o=document.querySelector(".modal-backdrop"),r=document.querySelector(".modal__close-btn"),d=(document.querySelector(".modal__wrap"),document.querySelector(".cards-film")),s="myLibrary";function l(){d.innerHTML="",document.body.classList.remove("modal-open"),o.classList.add("is-hidden")}function c(e){"Escape"===e.code&&(l(),window.removeEventListener("keydown",onEscapeKeyboard))}i.addEventListener("click",(function(e){const n=e.target.closest(".js-card");if(!n)return;(async function(e){const n=(JSON.parse(localStorage.getItem(s))||[]).map((e=>e.id));try{const a=await(0,t.getMovieDetails)(e),i=function(e){const{original_title:n,id:t,genre_names:a,genres:i,vote_average:o,poster_path:r,overview:d,popularity:s,vote_count:l}=e,c=(i?i.map((e=>e.name)):[]).slice(0,2).join(", ");return`<li class="film--add" data-id="${t}">\n  <div class="film-add__wrap">\n    <img class="film-add__img" src="https://image.tmdb.org/t/p/original/${r}" alt="${n}" loading="lazy" />\n  </div>\n  <div class="film-add__desc">\n    <h2 class="film-add__title">${n}</h2>\n\n    <ul class="film-add__list list">\n      <li class="film-add__item">\n        <span class="film-add__subtitle">Vote / Votes</span\n        ><span class="film-add__span votes average"\n          >${o}</span> / <span class="film-add__span votes count"\n          >${l}</span>\n      </li>\n      <li class="film-add__item">\n        <span class="film-add__subtitle">Popularity</span\n        ><span class="film-add__span">${s}</span>\n      </li>\n      <li class="film-add__item">\n        <span class="film-add__subtitle">Genre</span\n        ><span class="film-add__span genres">${c}</span>\n      </li>\n    </ul>\n\n    <div class="film-add__wrap-desc">\n      <h3 class="film-add__about">About</h3>\n      <p class="film-add__text">${d}</p>\n    </div>\n\n    <button type="button" class="film-add__btn btn">Add to my library</button>\n  </div>\n</li>`}(a);d.innerHTML=i;const o=document.querySelector(".film-add__btn");n.includes(Number(e))?o.textContent="Remove from my library":o.textContent="Add to my library",o.addEventListener("click",(()=>{if("Add to my library"!==o.textContent){const e=JSON.parse(localStorage.getItem(s))||[],n=e.find((e=>e.id===a.id)),t=e.indexOf(n);e.splice(t,1);return localStorage.setItem(s,JSON.stringify(e)),void(o.textContent="Add to my library")}!function(e){const n=JSON.parse(localStorage.getItem(s))||[];n.push(e),localStorage.setItem(s,JSON.stringify(n))}(a),o.textContent="Remove from my library"}))}catch(e){return void(d.innerHTML='<div class="modal__empty">Sorry, info is unavailable</div>')}})(n.dataset.id),o.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",c)})),r.addEventListener("click",l),o.addEventListener("click",(function(e){e.currentTarget===e.target&&l()}))}));
//# sourceMappingURL=index.13a26be2.js.map
