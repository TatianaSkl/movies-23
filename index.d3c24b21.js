!function(){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(n){return n&&n.__esModule?n.default:n}var t={},a={},i=n.parcelRequireadfa;null==i&&((i=function(n){if(n in t)return t[n].exports;if(n in a){var e=a[n];delete a[n];var i={id:n,exports:{}};return t[n]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,e){a[n]=e},n.parcelRequireadfa=i),i("l122l"),i("552T0"),i("b5EgB");var o=i("algKM"),c=i("bpxeT"),r=i("2TvXO"),s=(o=i("algKM"),i("3hLJb")),d="myLibrary";function l(n,e){var t=document.getElementById("upcoming");n().then((function(n){var a=n.results,i=a[(Math.random()*(a.length-1)).toFixed()];t.innerHTML=e(i),(0,s.starRating)(),function(n){g.apply(this,arguments)}(i.id)}))}function p(n){return n.map((function(n){var e=n.id,t=n.title,a=n.genre_ids,i=n.release_date,o=n.poster_path,c=n.vote_average;return'\n      <li class="trending__item js-card" data-id='.concat(e,'>\n          <img class="trending__img" src=https://image.tmdb.org/t/p/original').concat(o,' alt="').concat(t,'" loading="lazy">\n            <div class="trending__meta">\n                <p class="trending__title">').concat(t,'</p> \n                <p class="trending__genres">').concat(m(a)," | ").concat(i.split("-")[0],'</p>\n      <span class="film-card__rating">\n      <div class="rating">\n        <div class="rating__body">\n          <div class="rating__active"></div>\n          <div class="rating__items">\n            <input\n              type="range"\n              min="0"\n              max="10"\n              class="rating__item"\n              value="').concat(c,'"\n              name="rating"\n            />\n          </div>\n        </div>\n      </div>\n    </span>\n</div>\n      </li>')}))}function u(n){var e=n.id,t=n.title,a=n.genre_ids,i=n.release_date,o=n.poster_path,c=n.vote_average,r=n.overview,s=n.vote_count,d=n.popularity,l=n.backdrop_path;return'<div class="upcoming__item">\n  <picture>\n  <source srcset="https://image.tmdb.org/t/p/original'.concat(o,'" media="(max-width: 767px)" sizes="(min-width: 480px)">\n  <source srcset="https://image.tmdb.org/t/p/original').concat(l,'" media="(min-width: 768px)" sizes="(min-width: 768px)">\n     <img class="upcoming__img" src=https://image.tmdb.org/t/p/original').concat(l,' alt="').concat(t,'" loading="lazy">\n  </picture>\n     <div class="upcoming__meta">\n<p class="upcoming__title">').concat(t,'</p>\n<div class="upcoming__div">\n<div class="upcoming__container">\n<p class="upcoming__info">Release Date</p>\n<p class="upcoming__info">Vote / Votes</p>\n<p class="upcoming__info">Popularity</p>\n<p class="upcoming__info">Genre(s)</p>\n</div>\n<div class="upcoming__container">\n<p class="upcoming__info upcoming__date">').concat(i.split("-").reverse().join("."),'</p>\n<p class="upcoming__info"><span class="vote-background">').concat(c,'</span> / <span class="vote-background">').concat(s,'</span></p>\n<p class="upcoming__info">').concat(d,'</p>\n<p class="upcoming__info">').concat(m(a),'</p>\n</div>\n</div>\n<p class="upcoming__about">ABOUT<p>\n<p class="upcoming__overview">').concat(r,'</p>\n<button type="button" class="btn" data-id="').concat(e,'" id="btn__upcoming">Remind me</button>\n     </div>\n    </div>')}function m(e){var t=n.genres.genres;return e.slice(0,2).map((function(n){return t.find((function(e){return e.id==n})).name})).join(", ")}function g(){return(g=e(c)(e(r).mark((function n(t){var a,i,c,s;return e(r).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=JSON.parse(localStorage.getItem(d))||[],i=a.map((function(n){return n.id})),n.prev=2,n.next=5,(0,o.getMovieDetails)(Number(t));case 5:c=n.sent,s=document.getElementById("btn__upcoming"),i.includes(Number(t))?s.textContent="Remove from my library":s.textContent="Remind me",s.addEventListener("click",(function(){if("Remind me"===s.textContent){var n=JSON.parse(localStorage.getItem(d))||[];n.push(c),localStorage.setItem(d,JSON.stringify(n)),s.textContent="Remove from my library"}})),n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(2),n.abrupt("return");case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))).apply(this,arguments)}(0,s.starRating)();document.querySelector("#btn__upcoming");(0,o.getGenres)().then((function(e){var t,a,i;n.genres=e,t=o.getWeekTrendingMovies,a=p,i=document.getElementById("trending"),t().then((function(n){i.innerHTML=a(n.results.slice(0,3)).join("")})),l(o.getUpcomingMovies,u);document.querySelector("#btn__upcoming")})),function(){var n={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),modalBackdrop:document.querySelector("[data-modal-backdrop]")};function e(){n.modal.classList.toggle("is-hidden"),document.querySelector("body").classList.toggle("modal-open"),document.addEventListener("keydown",t)}function t(a){"Escape"!==a.key||n.modal.classList.contains("is-hidden")||(e(),document.removeEventListener("keydown",t))}n.openModalBtn.addEventListener("click",e),n.closeModalBtn.addEventListener("click",e),n.modalBackdrop.addEventListener("click",(function(t){t.target===n.modalBackdrop&&e()}))}(),i("l1mIK")}();
//# sourceMappingURL=index.d3c24b21.js.map
