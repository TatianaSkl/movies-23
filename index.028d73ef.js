!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=n.parcelRequireadfa;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){a[e]=n},n.parcelRequireadfa=i),i.register("552T0",(function(e,n){var t=i("algKM"),a=i("3hLJb"),r=document.getElementById("hero-bg"),o=document.getElementById("hero-content"),d=document.getElementById("hero__wrapper"),s=document.getElementById("hero-movie"),l=document.getElementById("hero-image"),c=document.getElementById("hero-movie-mob"),m=document.getElementById("modal-hero"),u=document.getElementById("modal-hero-close"),p=document.querySelector(".modal-error");function v(e){"Escape"===e.code&&_()}function _(){window.removeEventListener("keydown",v),m.classList.add("hero-is-hidden")}function g(e){try{(0,t.getMovieVideos)(e).then((function(e){var n=e.results.filter((function(e){return"Trailer"===e.type}));if(0!==n.length){var t=n[0].key,a="https://www.youtube.com/embed/".concat(t);document.querySelector(".modal-video").innerHTML='<iframe src="'.concat(a,'" title="YouTube video player"\n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share;"\n          allowfullscreen></iframe>'),p.classList.add("hero-is-hidden")}}))}catch(e){console.error(e)}}u.addEventListener("click",_),m.addEventListener("click",(function(e){e.currentTarget===e.target&&_()})),document.addEventListener("DOMContentLoaded",(function(){(0,t.getDayTrendingMovies)().then((function(e){try{var n=e.results;if(0===n.length)return void s.classList.add("visually-hidden");{var t=n[Math.floor(Math.random()*n.length)],i=t.backdrop_path,u=t.title,p=t.overview,_=t.vote_average,f=t.id;r.style.backgroundImage="linear-gradient(87.8deg, #0e0e0e 15.61%, rgba(14, 14, 14, 0) 60.39%),url('https://image.tmdb.org/t/p/original/".concat(i,"')"),l.style.backgroundImage="url('https://image.tmdb.org/t/p/original/".concat(i,"')"),c.innerHTML='\n        <h1 class="hero__title-movie">'.concat(u,'</h1>\n        <div class="hero__wrapper-rating">\n        <span class="hero-card__rating">\n      <div class="rating hero-rating">\n        <div class="hero-rating__body">\n          <div class="rating__active"></div>\n          <div class="hero-rating__items">\n            <input\n              type="range"\n              min="0"\n              max="10"\n              class="rating__item"\n              value="').concat(_,'"\n              name="hero-rating"\n            />\n          </div>\n        </div>\n      </div>\n    </span>\n    </div>\n        <p class="hero__text-movie">').concat(p,'</p>\n        <button class="btn hero__btn-movie" id="modal-hero-open-mob">Watch trailer</button>\n      '),(0,a.starRating)(),s.innerHTML='\n        <h1 class="hero__title-movie">'.concat(u,'</h1>\n        <div class="hero__wrapper-rating">\n        <span class="hero-card__rating">\n      <div class="rating hero-rating">\n        <div class="hero-rating__body">\n          <div class="rating__active"></div>\n          <div class="hero-rating__items">\n            <input\n              type="range"\n              min="0"\n              max="10"\n              class="rating__item"\n              value="').concat(_,'"\n              name="hero-rating"\n            />\n          </div>\n        </div>\n      </div>\n    </span>\n    </div>\n        <p class="hero__text-movie">').concat(p,'</p>\n        <button class="btn hero__btn-movie" id="modal-hero-open">Watch trailer</button>\n      '),(0,a.starRating)();var h=document.getElementById("modal-hero-open"),y=document.getElementById("modal-hero-open-mob");function b(){window.addEventListener("keydown",v),m.classList.remove("hero-is-hidden")}h.addEventListener("click",(function(){g(f),b()})),y.addEventListener("click",(function(){g(f),b()})),o.classList.add("visually-hidden"),d.classList.add("visually-hidden")}}catch(w){console.error(w)}}))}))})),i.register("b5EgB",(function(n,t){var a=i("bpxeT"),r=i("2TvXO"),o=i("algKM"),d=document.querySelector(".js-film"),s=document.querySelector(".modal-backdrop"),l=document.querySelector(".modal__close-btn"),c=(document.querySelector(".modal__wrap"),document.querySelector(".cards-film")),m="myLibrary";function u(){c.innerHTML="",document.body.classList.remove("modal-open"),s.classList.add("is-hidden")}function p(e){"Escape"===e.code&&(u(),window.removeEventListener("keydown",onEscapeKeyboard))}function v(e){var n=JSON.parse(localStorage.getItem(m))||[];n.push(e),localStorage.setItem(m,JSON.stringify(n))}function _(){return(_=e(a)(e(r).mark((function n(t){var a,i,d,s,l;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem(m))||[],i=a.map((function(e){return e.id})),e.prev=2,e.next=5,(0,o.getMovieDetails)(t);case 5:d=e.sent,s=g(d),c.innerHTML=s,l=document.querySelector(".film-add__btn"),i.includes(Number(t))?l.textContent="Remove from my library":l.textContent="Add to my library",l.addEventListener("click",(function(){if("Add to my library"!==l.textContent){var e=JSON.parse(localStorage.getItem(m))||[],n=e.find((function(e){return e.id===d.id})),t=e.indexOf(n);e.splice(t,1);return localStorage.setItem(m,JSON.stringify(e)),void(l.textContent="Add to my library")}v(d),l.textContent="Remove from my library"})),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(2),c.innerHTML='<div class="modal__empty">Sorry, info is unavailable</div>',e.abrupt("return");case 17:case"end":return e.stop()}}),n,null,[[2,13]])})))).apply(this,arguments)}function g(e){var n=e.original_title,t=e.id,a=(e.genre_names,e.genres),i=e.vote_average,r=e.poster_path,o=e.overview,d=e.popularity,s=e.vote_count,l=(a?a.map((function(e){return e.name})):[]).slice(0,2).join(", ");return'<li class="film--add" data-id="'.concat(t,'">\n  <div class="film-add__wrap">\n    <img class="film-add__img" src="https://image.tmdb.org/t/p/original/').concat(r,'" alt="').concat(n,'" loading="lazy" />\n  </div>\n  <div class="film-add__desc">\n    <h2 class="film-add__title">').concat(n,'</h2>\n\n    <ul class="film-add__list list">\n      <li class="film-add__item">\n        <span class="film-add__subtitle">Vote / Votes</span\n        ><span class="film-add__span votes average"\n          >').concat(i,'</span> / <span class="film-add__span votes count"\n          >').concat(s,'</span>\n      </li>\n      <li class="film-add__item">\n        <span class="film-add__subtitle">Popularity</span\n        ><span class="film-add__span">').concat(d,'</span>\n      </li>\n      <li class="film-add__item">\n        <span class="film-add__subtitle">Genre</span\n        ><span class="film-add__span genres">').concat(l,'</span>\n      </li>\n    </ul>\n\n    <div class="film-add__wrap-desc">\n      <h3 class="film-add__about">About</h3>\n      <p class="film-add__text">').concat(o,'</p>\n    </div>\n\n    <button type="button" class="film-add__btn btn">Add to my library</button>\n  </div>\n</li>')}d.addEventListener("click",(function(e){var n=e.target.closest(".js-card");if(!n)return;(function(e){_.apply(this,arguments)})(n.dataset.id),s.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",p)})),l.addEventListener("click",u),s.addEventListener("click",(function(e){e.currentTarget===e.target&&u()}))}))}();
//# sourceMappingURL=index.028d73ef.js.map
