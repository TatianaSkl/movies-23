!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var r={},n={},a=e.parcelRequireadfa;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequireadfa=a),a("l122l"),a("552T0"),a("4OBAQ"),a("b5EgB");var s=a("bpxeT"),i=a("2TvXO"),l=a("algKM"),o=a("cLkiC"),c=a("3hLJb"),u=a("2lJ8w"),d=(l=a("algKM"),document.querySelector(".search-form")),f=document.querySelector(".catalog__list"),p=document.querySelector(".catalog__message"),v=document.querySelector(".catalog-pagination"),g=new(0,l.CatalogApiService);function h(){return(h=t(s)(t(i).mark((function r(n){var a,s,h,y;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=n.currentTarget.elements.searchQuery.value.trim(),p.classList.add("is-hidden"),""!==a){t.next=9;break}return v.classList.add("visually-hidden"),//!
f.innerHTML="",Notiflix.Notify.failure("Sorry, the search string can't be empty. Please try again."),d.reset(),t.abrupt("return");case 9:return f.innerHTML="",g.query=a,t.next=13,g.searchMovies();case 13:return s=t.sent,h=(0,u.createPagination)(s.total_results,s.total_pages),t.next=17,s.results.slice(0,10);case 17:y=t.sent;try{y.length>0?((0,l.getGenres)().then((function(t){e.genres=t;var r=(0,o.createMarkupFilmsList)(y);f.innerHTML=r,(0,c.starRating)()})),v.classList.remove("visually-hidden"),h.on("beforeMove",(function(e){var t=e.page;g.searchMovies(t).then((function(e){var t=e.results.slice(0,10);if(t){v.classList.remove("visually-hidden");var r=(0,o.createMarkupFilmsList)(t);f.innerHTML=r,(0,c.starRating)(),window.scrollTo({top:450,behavior:"smooth"})}}))}))):(p.classList.remove("is-hidden"),v.classList.add("visually-hidden"))}catch(e){console.log(e.message)}finally{d.reset()}case 19:case"end":return t.stop()}}),r)})))).apply(this,arguments)}d.addEventListener("submit",(function(e){return h.apply(this,arguments)}))}();
//# sourceMappingURL=catalog.786a0706.js.map
